apply plugin: 'com.android.application'

android {
    compileSdkVersion 29
    buildToolsVersion "24.0.0"

    defaultConfig {
        applicationId "com.scetia.Pro"
        minSdkVersion 19
        targetSdkVersion 29
        multiDexEnabled true
        //添加这个配置，不然编译会报错
        //添加如下配置就OK了
        javaCompileOptions { annotationProcessorOptions { includeCompileClasspath = true } }
    }
    //配置签名文件
    signingConfigs {
        release {
            try {
                storeFile file("D:\\APP签名和打包\\xieshi path\\Scetia_Pro.jks")
                storePassword "xieshi123"
                keyAlias "xieshi123"
                keyPassword "xieshi123"
                v1SigningEnabled true
                v2SigningEnabled true

            } catch (ex) {
                throw new Exception("签名用户名或密码错误${ex.message}")
            }
        }
    }
    buildTypes {
        release {
            //加上这句话，不然打包时会报错，目前还不知道是什么原因
            lintOptions {
                checkReleaseBuilds false
                abortOnError false
            }
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            signingConfig signingConfigs.release
        }
    }
    applicationVariants.all{ variant->
        def buildType = variant.buildType.name
        //只对release起作用
        if(buildType=="release"){
            variant.getPackageApplication().outputDirectory = new File("D:\\APP签名和打包\\xieshi path\\Scetia_Pro_v$versionName")
        }
        variant.outputs.each{ mm ->
            if (buildType=="release"){
                def fileName = "Scetia_Pro.apk"
                println "文件名--------${fileName}"
                mm.outputFileName=fileName
            }
        }
    }
    sourceSets {
        main {
            jniLibs.srcDirs = ['libs']
        }
    }
}


dependencies {
    implementation project(':lSUIKit')
    implementation project(':pullToRefreash')
    implementation 'com.android.support:appcompat-v7:22.2.1'
    implementation files('libs/zbar.jar')
    implementation files('libs/uhfreaderapi.jar')
    implementation project(':library')
    implementation 'com.squareup.okhttp3:okhttp:3.6.0'
    implementation 'com.android.support.constraint:constraint-layout:1.1.3'
    implementation 'com.android.support:recyclerview-v7:22.0.0'
    implementation 'com.android.support:design:24.0.0'
    implementation files('libs\\rfidImpl_class.jar')
    compile files('libs/ksoap2-android-assembly-3.1.0-jar-with-dependencies.jar')
    compile files('libs/BaiduLBS_Android.jar')
    implementation'cn.bingoogolapple:bga-qrcode-zxing:1.3.4'
    implementation 'org.greenrobot:eventbus:3.1.1'
    //rxjava依赖
    implementation 'io.reactivex.rxjava2:rxjava:2.1.9'
    implementation 'io.reactivex.rxjava2:rxandroid:2.0.2'
    //retrofit依赖
    implementation 'com.squareup.retrofit2:retrofit:2.4.0'
    implementation 'com.squareup.retrofit2:adapter-rxjava2:2.4.0'
    implementation 'com.squareup.retrofit2:converter-gson:2.4.0'
    implementation 'com.squareup.okhttp3:okhttp:3.10.0'
    implementation 'com.squareup.okhttp3:logging-interceptor:3.9.1'
    //recylerview adapter 框架
    implementation 'com.github.CymChad:BaseRecyclerViewAdapterHelper:2.9.34'
    annotationProcessor  'com.jakewharton:butterknife-compiler:8.0.1'
    implementation 'com.contrarywind:Android-PickerView:4.1.9'
    implementation 'com.bm.photoview:library:1.4.1'
    //上拉加载，下拉刷新框架
    implementation 'com.scwang.smartrefresh:SmartRefreshLayout:1.1.0'
}
